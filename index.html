<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		
		<title>Ambience</title>
		
		<link rel="stylesheet" href="common.css">
		<link rel="stylesheet" href="generic.css" title="Generic">
		<link rel="alternate stylesheet" href="sci-fi.css" title="Sci-Fi">
		
		<script src="libraries/jquery.js"></script>
		<script src="libraries/jquery-ui.js"></script>
		<script src="libraries/jquery.details.js"></script>
		<script src="libraries/knockout.js"></script>
		<script src="libraries/knockwrap.js"></script>
		
		<script src="libraries/functions.js"></script>
		<script src="libraries/splitter.js"></script>
		<script src="libraries/js-yaml.js"></script>
		<script src="libraries/animation.js"></script>
		<script src="libraries/preloader.js"></script>
		<script src="libraries/key.js"></script>
		
		<script src="source/ambience.js"></script>
		<script src="source/media/image.js"></script>
		<script src="source/media/sound-list.js"></script>
		<script src="source/media/sound.js"></script>
		<script src="source/media/background.js"></script>
		<script src="source/media/video.js"></script>
		<script src="source/media/text.js"></script>
		<script src="source/layer.js"></script>
		<script src="source/scene.js"></script>
		<script src="source/immersive.js"></script>
	</head>
	<body>
		<div id="editor" class="editor">
			<datalist id="fonts">
				<option value="Calibri">
				<option value="Cambria">
				<option value="Constantia">
				<option value="Georgia">
			</datalist>
			<div class="list-view">
				<ul data-bind="foreach: scenes">
					<li class="list-item" data-bind="click: $root.select, css: { selected: isSelected }">
						<div class="preview" data-bind="
							style: {
								backgroundColor: color,
								backgroundImage: imageCss,
								backgroundSize: size
							}
						"></div>
						<span data-bind="text: name"></span>
						<!-- ko if: key -->
							<span data-bind="text: key" class="key"></span>
						<!-- /ko -->
					</li>
				</ul>
				<div class="add-item">
					<button data-bind="click: $root.add">Add Scene</button>
				</div>
			</div>
			<!-- ko with: current -->
			<div class="detail-view" data-bind="event: { drop: $root.handleDroppedFile, dragover: $root.handleDrag }">
				<div class="selected-item">
					<ul class="action-list">
						<button class="play" data-bind="click: $root.playSelected">Play</button>
						<button class="copy" data-bind="click: $root.copySelected">Copy</button>
						<button class="remove" data-bind="click: $root.removeSelected">Remove</button>
					</ul>
					<div class="preview" data-bind="
						style: {
							backgroundColor: color,
							backgroundImage: imageCss,
							backgroundSize: size
						}
					">
						<div class="text outer">
							<div
								class="text inner"
								data-bind="
									text: text,
									style: {
										fontSize: previewFontSize,
										fontFamily: fontFamily,
										fontStyle: fontStyle,
										fontWeight: fontWeight
									}
								"></div>
						</div>
					</div>
					<div class="options">
						<label for="name">Name</label>
						<input id="name" type="text" size="10" data-bind="value: name, valueUpdate: 'afterkeydown'">
						<label for="key">Key</label>
						<input
							id="key"
							type="text"
							size="1"
							data-bind="
								value: key,
								valueUpdate: 'afterkeydown',
								event: { keydown: $root.bindSpecialKey, keypress: $root.bindTextKey }">
						<ul class="tab-list">
							<li class="tab"><a href="#image-tab">Image</a></li>
							<li class="tab"><a href="#sound-tab">Sound</a></li>
							<li class="tab"><a href="#text-tab">Text</a></li>
							<li class="tab"><a href="#other-tab">Other</a></li>
						</ul>
						<div class="tab-content" id="image-tab">
							<table>
								<tr>
									<th>
										<label for="image-file">File</label>
									</th>
									<td>
										<input id="image-file" type="text" data-bind="value: image, valueUpdate: 'afterkeydown'">
									</td>
								</tr>
								<tr>
									<th>
										<label for="image-size">Size</label>
									</th>
									<td>
										<select id="image-size" data-bind="value: size">
											<option value="cover">cover</option>
											<option value="contain">contain</option>
										</select>
									</td>
								</tr>
							</table>
						</div>
						<div class="tab-content" id="sound-tab">
							<table>
								<tr>
									<th>
										<label for="sound-file">File</label>
									</th>
									<td>
										<input id="sound-file" type="text" data-bind="value: sound, valueUpdate: 'afterkeydown'">
									</td>
								</tr>
								<tr>
									<th><label for="loop">Loop</label></th>
									<td><input id="loop" type="checkbox" data-bind="checked: loop"></td>
								</tr>
								<tr>
									<th><label for="crossover">Crossover</label></th>
									<td>
										<input id="crossover" type="number" min="0" value="0">
										<span class="note">seconds</span>
									</td>
								</tr>
								<tr>
									<th><label for="crossfade">Crossfade</label></th>
									<td><input id="crossfade" type="checkbox"></td>
								</tr>
								<tr>
									<th><label for="volume">Volume</label></th>
									<td><input id="volume" type="number" min="0" max="1" step="0.1" value="1"></td>
								</tr>
							</table>
						</div>
						<div class="tab-content" id="text-tab">
							<table>
								<tr>
									<th><label for="text">Text</label></th>
									<td>
										<textarea id="text" data-bind="value: text, valueUpdate: 'afterkeydown'"></textarea>
									</td>
								</tr>
								<tr>
									<th>
										<label for="font">Font</label>
									</th>
									<td>
										<input id="font" type="text" list="fonts" data-bind="value: fontFamily, valueUpdate: 'afterkeydown'">
									</td>
								</tr>
								<tr>
									<th></th>
									<td>
										<label for="bold">Bold</label> <input id="bold" type="checkbox" data-bind="checked: bold">
										<label for="italic">Italic</label> <input id="italic" type="checkbox" data-bind="checked: italic">
									</td>
								<tr>
									<th><label for="font-size">Size</label></th>
									<td>
										<input id="font-size" type="number" min="0" max="100" step="1" data-bind="value: fontSize">
										<span class="note">percent of screen width</span>
									</td>
								</tr>
								<tr>
									<th><label for="color">Color</label></th>
									<td><input id="color" type="color"></td>
								</tr>
							</table>
						</div>
						<div class="tab-content" id="other-tab">
							<table>
								<tr>
									<th><label for="background-color">Background</label></th>
									<td><input id="background-colo" type="color" data-bind="value: color"></td>
								</tr>
								<tr>
									<th><label for="fade">Fade in/out</label></th>
									<td>
										<input id="fade" type="number" min="0" value="0" data-bind="value: fadeDuration">
										<span class="note">seconds</span>
									</td>
								</tr>
							</table>
						</div>
					</div>
				</div>
			</div>
			<!-- /ko -->
		</div>
		<div id="theater" class="theater preview" data-bind="
			event: {
				mousemove: $root.scheduleHiddenInterface,
				mouseover: $root.scheduleHiddenInterface,
				mouseout: $root.showInterface
			}">
			<div id="background" class="layer"></div>
			<div id="foreground" class="layer"></div>
			<ul class="action-list">
				<button class="show" data-bind="click: $root.showEditor, visible: $root.showButtonIsVisible">Show Editor</button>
				<button class="hide" data-bind="click: $root.hideEditor, visible: $root.hideButtonIsVisible">Hide Editor</button>
			</ul>
		</div>
	</body>
</html>