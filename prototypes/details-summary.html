<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		
		<title>Details/Summary</title>
		
		<script src="jquery.js"></script>
		<script src="jquery-ui.js"></script>
		<script src="knockout.js"></script>
		<script src="knockbat.js"></script>
		<script>
			var viewModel = {
				scenes: [
					{
						name: 'city',
						image: 'ishtar_rooftop.jpg',
						sound: 'music.mp3',
						text: null
					},
					{
						name: 'portrait',
						image: 'jack-face-details.jpg',
						sound: null,
						text: null
					}
				]
			};
			
			viewModel.scenes.map(function(scene) {
				for ( var property in scene ) {
					scene[property] = ko.observable(scene[property]);
				}
			});
			
			window.addEventListener('load', function() {
				ko.applyBindings(viewModel);
				$('div.content').sortable();
			});
		</script>
		
		<style>
			div.preview {
				float: left;
				width: 10em;
				margin-right: 1em;
			}
			
			div.preview img {
				width: 100%;
			}
			
			div.preview button {
				width: 100%;
			}
			
			div.options {
				float: left;
			}
			
			.note, .hint {
				opacity: 0.5;
			}
			
			.hint {
				visibility: hidden;
			}
			
			input:focus + .hint, input:hover + .hint {
				visibility: visible;
			}
			
			label:after {
				content: ":";
			}
		</style>
	</head>
	<body>
		<div class="content" data-bind-foreach="scenes">
			<datalist id="fonts">
				<option value="Calibri">
				<option value="Cambria">
				<option value="Constantia">
				<option value="Georgia">
			</datalist>
			<fieldset>
				<legend data-bind-text="name"></legend>
				<div class="preview">
					<a href="#"><img data-bind-attr-src="image"></a>
					<button>Play</button>
				</div>
				<div class="options">
					<label>Name</label>
					<input type="text" size="10" data-bind-value="name" data-bind-valueUpdate="'afterkeydown'">
					<span class="hint">Type this name and press Enter to play scene</span>
					<br>
					<label>Key</label>
					<input type="text" size="1">
					<span class="hint">Press this key to play scene</span>
					<details>
						<summary>Image <span class="note" data-bind-text="image"></span></summary>
						<label>File</label>
						<input type="text" data-bind-value="image" data-bind-valueUpdate="'afterkeydown'">
					</details>
					<details>
						<summary>Sound <span class="note" data-bind-text="sound"></span></summary>
						<label>File</label>
						<input type="text" data-bind-value="sound" data-bind-valueUpdate="'afterkeydown'">
					</details>
					<details>
						<summary>Text <span class="note" data-bind-text="text"></span></summary>
						<ul>
							<li>
								<textarea data-bind-value="text" data-bind-valueUpdate="'afterkeydown'"></textarea>
							</li>
							<li>
								<label>Font</label>
								<input type="text" list="fonts">
							</li>
							<li>
								<label>Size</label>
								<input type="number">
							</li>
							<li>
								<label>Color</label>
								<input type="color">
							</li>
						</ul>
					</details>
					<details>
						<summary>Other</summary>
						<ul>
							<li>
								<label>Loop</label>
								<input type="checkbox">
							</li>
							<li>
								<label>Fade</label>
								<input type="number">
								<span class="hint">Scene will fade in and out for this many seconds</span>
							</li>
						</ul>
					</details>
				</div>
			</fieldset>
		</div>
	</body>
</html>